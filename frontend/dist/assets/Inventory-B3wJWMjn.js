import{r as o,a as u,j as e,L as b,b as g,y as c}from"./index-C5rQdlcL.js";import{A as j,M as f}from"./AdminLayout-MxYaMzDm.js";const w=()=>{const[n,d]=o.useState([]),[r,i]=o.useState({name:"",quantity:"",price:""}),[s,l]=o.useState(null);o.useEffect(()=>{u.get("https://mobile-inventory-management-system.vercel.app/products").then(t=>d(t.data)).catch(t=>console.error("Error fetching products:",t))},[]);const p=t=>{t.preventDefault(),r.name&&r.quantity&&r.price?(u.post("https://mobile-inventory-management-system.vercel.app/add-product",r).then(a=>{d([...n,a.data]),i({name:"",quantity:"",price:""})}).catch(a=>console.error("Error adding product:",a)),c.success("Product Added Successfully..!")):c.error("Please Fill All The Fields..!")},x=t=>{u.delete(`https://mobile-inventory-management-system.vercel.app/delete-product/${t}`).then(()=>{d(n.filter(a=>a._id!==t))}).catch(a=>console.error("Error deleting product:",a)),c.warning("Deleted Product..!")},h=t=>{l(t)},y=t=>{t.preventDefault(),s.name&&s.quantity&&s.price?(u.put(`https://mobile-inventory-management-system.vercel.app/update-product/${s._id}`,s).then(a=>{d(n.map(m=>m._id===s._id?a.data:m)),l(null)}).catch(a=>console.error("Error updating product:",a)),c.success("Successful Updating Product..!")):c.error("Please fill all the fields")};return e.jsxs(j,{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-4",children:e.jsxs("nav",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-gray-500",children:e.jsx(b,{to:"/home",children:e.jsx(f,{fontSize:20})})}),e.jsx("span",{className:"text-gray-400",children:"/"}),e.jsx("span",{className:"font-semibold text-gray-800",children:"Inventory"})]})}),e.jsxs("div",{className:"p-4 md:p-6 bg-gray-50 min-h-screen",children:[e.jsxs("form",{onSubmit:s?y:p,className:"bg-white p-6 rounded-xl shadow-md mb-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Product Name:"}),e.jsx("input",{type:"text",placeholder:"Product Name",value:s?s.name:r.name,onChange:t=>s?l({...s,name:t.target.value}):i({...r,name:t.target.value}),className:"w-full border border-gray-300 rounded-md p-2 capitalize focus:outline-blue-500",required:!0})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Price:"}),e.jsx("input",{type:"number",placeholder:"Price",value:s?s.price:r.price,onChange:t=>s?l({...s,price:parseFloat(t.target.value)}):i({...r,price:t.target.value}),className:"w-full border border-gray-300 rounded-md p-2 focus:outline-blue-500",required:!0})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Quantity:"}),e.jsx("input",{type:"number",placeholder:"Quantity",value:s?s.quantity:r.quantity,onChange:t=>s?l({...s,quantity:parseInt(t.target.value)}):i({...r,quantity:t.target.value}),className:"w-full border border-gray-300 rounded-md p-2 focus:outline-blue-500",required:!0})]})]}),e.jsxs("div",{className:"mt-6 flex flex-wrap justify-center gap-4",children:[e.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition",children:s?"Save":"Add Product"}),s&&e.jsx("button",{type:"button",onClick:()=>l(null),className:"bg-gray-500 text-white px-6 py-2 rounded-md hover:bg-gray-600 transition",children:"Cancel"})]})]}),e.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow p-4 mb-6",children:e.jsxs("table",{className:"w-full  text-center text-sm md:text-base",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-4",children:"Product Name"}),e.jsx("th",{className:"px-4 py-2",children:"Price"}),e.jsx("th",{className:"px-4 py-2",children:"Quantity"}),e.jsx("th",{className:"px-4 py-2",children:"Stocks"}),e.jsx("th",{className:"px-4 py-2",children:"Actions"})]})}),e.jsxs("tbody",{children:[n.map(t=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:" py-2 capitalize",children:t.name}),e.jsxs("td",{className:"py-2 text-blue-600 font-semibold",children:["â‚¹ ",t.price.toFixed(2)]}),e.jsx("td",{className:"py-2",children:t.quantity}),e.jsx("td",{className:"py-2 font-semibold",children:t.quantity===0?e.jsx("span",{className:"text-red-500",children:"Out of Stock"}):e.jsx("span",{className:"text-green-500",children:"Available"})}),e.jsx("td",{className:"py-2",children:e.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[e.jsx("button",{onClick:()=>h(t),className:"bg-yellow-400 hover:bg-yellow-500 text-white px-4 py-1 rounded",children:"Edit"}),e.jsx("button",{onClick:()=>x(t._id),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-1 rounded",children:"Delete"})]})})]},t._id)),n.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"text-gray-500 py-6",children:"No products available."})})]})]})}),e.jsx(g,{})]})]})};export{w as default};
