import{u as x,r as a,y as t,j as e,L as u,b as p,a as g}from"./index-C5rQdlcL.js";import{A as h,M as y}from"./AdminLayout-MxYaMzDm.js";const N=()=>{const n=x(),[l,b]=a.useState(""),[r,o]=a.useState(""),[i,d]=a.useState("");a.useEffect(()=>{const s=JSON.parse(localStorage.getItem("adminInfo"));s?o(s.email):(t.error("Unauthorized. Redirecting to login..."),n("/login"))},[n]);const c=async s=>{s.preventDefault();try{(await g.put("https://mobile-inventory-management-system.vercel.app/update-admin",{email:r,name:l,password:i})).data.status==="success"?(localStorage.setItem("adminInfo",JSON.stringify({email:r,name:l})),t.success("Profile updated successfully!")):t.error("Update failed.")}catch{t.error("Server error")}};return e.jsxs(h,{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-4",children:e.jsxs("nav",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-gray-500",children:e.jsx(u,{to:"/home",children:e.jsx(y,{fontSize:20})})}),e.jsx("span",{className:"text-gray-400",children:"/"}),e.jsx("span",{className:"font-semibold text-gray-800",children:"Settings"})]})}),e.jsxs("div",{className:"p-4 md:p-6 bg-gray-50 min-h-screen",children:[e.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:e.jsxs("form",{className:"space-y-4",onSubmit:c,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600",children:"Email"}),e.jsx("input",{type:"email",className:"w-full border border-gray-300 rounded px-3 py-2",value:r,readOnly:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600",children:"Change Password"}),e.jsx("input",{type:"password",className:"w-full border border-gray-300 rounded px-3 py-2",value:i,onChange:s=>d(s.target.value),placeholder:"New Password"})]}),e.jsx("button",{type:"submit",className:"bg-[#5990d7] text-white px-4 py-2 rounded hover:bg-blue-700",children:"Save Changes"})]})}),e.jsx(p,{})]})]})};export{N as default};
